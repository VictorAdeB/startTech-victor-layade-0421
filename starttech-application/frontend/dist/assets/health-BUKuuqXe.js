import{c as r,r as d,f as p,j as e,b as y}from"./index-CmilNsW5.js";/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],b=r("activity",u);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],j=r("database",f);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],c=r("refresh-cw",N);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],w=r("server",v);function C(){const[n,o]=d.useState(!0),[x,h]=d.useState(new Date),{data:s,isLoading:t,refetch:m}=p({queryKey:["health"],queryFn:async()=>{const a=await y.get("/health");return h(new Date),a.data},refetchInterval:n?3e4:!1}),g=()=>{m()},i=a=>{switch(a){case"ok":return"bg-green-100 text-green-800 border-green-300";case"down":return"bg-red-100 text-red-800 border-red-300";case"disabled":return"bg-gray-100 text-gray-600 border-gray-300";default:return"bg-gray-100 text-gray-600 border-gray-300"}},l=a=>{switch(a){case"ok":return"ðŸŸ¢";case"down":return"ðŸ”´";case"disabled":return"âšª";default:return"âšª"}};return e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(b,{className:"h-8 w-8 text-indigo-600"}),"System Health"]}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Monitor the status of backend services"})]}),e.jsxs("button",{onClick:g,disabled:t,className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 disabled:opacity-50 transition-colors",children:[e.jsx(c,{className:`h-4 w-4 ${t?"animate-spin":""}`}),"Refresh"]})]})}),e.jsx("div",{className:"mb-6 bg-white rounded-lg border border-gray-200 p-4",children:e.jsxs("label",{className:"flex items-center justify-between cursor-pointer",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Auto-refresh"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Automatically check status every 30 seconds"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"checkbox",checked:n,onChange:a=>o(a.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]})}),e.jsxs("div",{className:"mb-6 text-sm text-gray-500",children:["Last checked: ",x.toLocaleTimeString()]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 shadow-sm",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(j,{className:"h-8 w-8 text-gray-700"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"MongoDB"})]})}),t?e.jsxs("div",{className:"flex items-center gap-2 text-gray-500",children:[e.jsx(c,{className:"h-4 w-4 animate-spin"}),e.jsx("span",{children:"Checking..."})]}):e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:l(s?.database||"down")}),e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium border ${i(s?.database||"down")}`,children:s?.database?.toUpperCase()||"UNKNOWN"})]}),e.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Primary database for storing users and todos"})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 shadow-sm",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(w,{className:"h-8 w-8 text-gray-700"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Redis Cache"})]})}),t?e.jsxs("div",{className:"flex items-center gap-2 text-gray-500",children:[e.jsx(c,{className:"h-4 w-4 animate-spin"}),e.jsx("span",{children:"Checking..."})]}):e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:l(s?.cache||"disabled")}),e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium border ${i(s?.cache||"disabled")}`,children:s?.cache?.toUpperCase()||"UNKNOWN"})]}),e.jsx("p",{className:"mt-4 text-sm text-gray-600",children:s?.cache==="disabled"?"Caching is currently disabled":"Cache for username availability checks"})]})]}),e.jsxs("div",{className:"mt-8 bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"System Status"}),t?e.jsx("p",{className:"text-gray-500",children:"Loading..."}):s?.database==="ok"?e.jsxs("div",{className:"flex items-center gap-2 text-green-700",children:[e.jsx("span",{className:"text-xl",children:"âœ“"}),e.jsx("span",{className:"font-medium",children:"All critical services are operational"})]}):e.jsxs("div",{className:"flex items-center gap-2 text-red-700",children:[e.jsx("span",{className:"text-xl",children:"âœ—"}),e.jsx("span",{className:"font-medium",children:"One or more critical services are down"})]})]})]})})}export{C as component};
