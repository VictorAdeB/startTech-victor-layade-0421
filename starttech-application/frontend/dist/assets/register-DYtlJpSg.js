import{e as p,r as f,a as h,j as e,L as y,o as w,t as d,b as N,s as a}from"./index-CmilNsW5.js";import{u as b,a as j}from"./zod-BsoTg_zf.js";const v=w({firstName:a().min(1,"First name is required"),lastName:a().min(1,"Last name is required"),username:a().min(3,"Username must be at least 3 characters"),password:a().min(6,"Password must be at least 6 characters"),confirmPassword:a().min(6,"Confirm Password must be at least 6 characters")}).refine(i=>i.password===i.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function S(){const i=p(),[l,c]=f.useState(null),{register:r,handleSubmit:u,formState:{errors:s,isSubmitting:m}}=b({resolver:j(v)}),n=h({mutationFn:async t=>{const{confirmPassword:o,...x}=t;return(await N.post("/auth/register",x)).data},onSuccess:()=>{d.success("Account created successfully! Please log in."),i({to:"/login"})},onError:t=>{const o=t.response?.data?.error||"Registration failed";c(o),d.error(o)}}),g=t=>{c(null),n.mutate(t)};return e.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-50 px-4 py-12 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"w-full max-w-md space-y-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"mt-6 text-center text-3xl font-bold tracking-tight text-gray-900",children:"Create a new account"}),e.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Already have an account?"," ",e.jsx(y,{to:"/login",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Sign in"})]})]}),e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:u(g),children:[e.jsxs("div",{className:"-space-y-px rounded-md shadow-sm",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"firstName",className:"sr-only",children:"First Name"}),e.jsx("input",{id:"firstName",type:"text",autoComplete:"given-name",required:!0,className:"relative block w-full rounded-t-md border-0 py-1.5 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:z-10 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6 px-3",placeholder:"First Name",...r("firstName")}),s.firstName&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.firstName.message})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"lastName",className:"sr-only",children:"Last Name"}),e.jsx("input",{id:"lastName",type:"text",autoComplete:"family-name",required:!0,className:"relative block w-full border-0 py-1.5 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:z-10 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6 px-3",placeholder:"Last Name",...r("lastName")}),s.lastName&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.lastName.message})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"username",className:"sr-only",children:"Username"}),e.jsx("input",{id:"username",type:"text",autoComplete:"username",required:!0,className:"relative block w-full border-0 py-1.5 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:z-10 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6 px-3",placeholder:"Username",...r("username")}),s.username&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.username.message})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),e.jsx("input",{id:"password",type:"password",autoComplete:"new-password",required:!0,className:"relative block w-full border-0 py-1.5 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:z-10 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6 px-3",placeholder:"Password",...r("password")}),s.password&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.password.message})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirmPassword",className:"sr-only",children:"Confirm Password"}),e.jsx("input",{id:"confirmPassword",type:"password",autoComplete:"new-password",required:!0,className:"relative block w-full rounded-b-md border-0 py-1.5 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:z-10 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6 px-3",placeholder:"Confirm Password",...r("confirmPassword")}),s.confirmPassword&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.confirmPassword.message})]})]}),l&&e.jsx("div",{className:"text-red-500 text-sm text-center",children:l}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:m||n.isPending,className:"group relative flex w-full justify-center rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 disabled:opacity-50",children:m||n.isPending?"Creating account...":"Create account"})})]})]})})}export{S as component};
