import{i as p,p as xr,k as Er,$ as Dr}from"./index-CmilNsW5.js";var de=e=>e.type==="checkbox",te=e=>e instanceof Date,M=e=>e==null;const or=e=>typeof e=="object";var O=e=>!M(e)&&!Array.isArray(e)&&or(e)&&!te(e),kr=e=>O(e)&&e.target?de(e.target)?e.target.checked:e.target.value:e,Sr=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Or=(e,s)=>e.has(Sr(s)),Tr=e=>{const s=e.constructor&&e.constructor.prototype;return O(s)&&s.hasOwnProperty("isPrototypeOf")},Oe=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function L(e){let s;const r=Array.isArray(e),i=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)s=new Date(e);else if(!(Oe&&(e instanceof Blob||i))&&(r||O(e)))if(s=r?[]:Object.create(Object.getPrototypeOf(e)),!r&&!Tr(e))s=e;else for(const u in e)e.hasOwnProperty(u)&&(s[u]=L(e[u]));else return e;return s}var be=e=>/^\w*$/.test(e),S=e=>e===void 0,Te=e=>Array.isArray(e)?e.filter(Boolean):[],Ce=e=>Te(e.replace(/["|']|\]/g,"").split(/\.|\[/)),h=(e,s,r)=>{if(!s||!O(e))return r;const i=(be(s)?[s]:Ce(s)).reduce((u,a)=>M(u)?u:u[a],e);return S(i)||i===e?S(e[s])?r:e[s]:i},K=e=>typeof e=="boolean",A=(e,s,r)=>{let i=-1;const u=be(s)?[s]:Ce(s),a=u.length,l=a-1;for(;++i<a;){const c=u[i];let D=r;if(i!==l){const U=e[c];D=O(U)||Array.isArray(U)?U:isNaN(+u[i+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;e[c]=D,e=e[c]}};const $e={BLUR:"blur",FOCUS_OUT:"focusout"},W={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Y={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Cr=p.createContext(null);Cr.displayName="HookFormContext";var Lr=(e,s,r,i=!0)=>{const u={defaultValues:s._defaultValues};for(const a in e)Object.defineProperty(u,a,{get:()=>{const l=a;return s._proxyFormState[l]!==W.all&&(s._proxyFormState[l]=!i||W.all),e[l]}});return u};const Ur=typeof window<"u"?p.useLayoutEffect:p.useEffect;var I=e=>typeof e=="string",Rr=(e,s,r,i,u)=>I(e)?(i&&s.watch.add(e),h(r,e,u)):Array.isArray(e)?e.map(a=>(i&&s.watch.add(a),h(r,a))):(i&&(s.watchAll=!0),r),De=e=>M(e)||!or(e);function ee(e,s,r=new WeakSet){if(De(e)||De(s))return e===s;if(te(e)&&te(s))return e.getTime()===s.getTime();const i=Object.keys(e),u=Object.keys(s);if(i.length!==u.length)return!1;if(r.has(e)||r.has(s))return!0;r.add(e),r.add(s);for(const a of i){const l=e[a];if(!u.includes(a))return!1;if(a!=="ref"){const c=s[a];if(te(l)&&te(c)||O(l)&&O(c)||Array.isArray(l)&&Array.isArray(c)?!ee(l,c,r):l!==c)return!1}}return!0}var Le=(e,s,r,i,u)=>s?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[i]:u||!0}}:{},ue=e=>Array.isArray(e)?e:[e],ze=()=>{let e=[];return{get observers(){return e},next:u=>{for(const a of e)a.next&&a.next(u)},subscribe:u=>(e.push(u),{unsubscribe:()=>{e=e.filter(a=>a!==u)}}),unsubscribe:()=>{e=[]}}};function lr(e,s){const r={};for(const i in e)if(e.hasOwnProperty(i)){const u=e[i],a=s[i];if(u&&O(u)&&a){const l=lr(u,a);O(l)&&(r[i]=l)}else e[i]&&(r[i]=a)}return r}var P=e=>O(e)&&!Object.keys(e).length,Ue=e=>e.type==="file",j=e=>typeof e=="function",ge=e=>{if(!Oe)return!1;const s=e?e.ownerDocument:0;return e instanceof(s&&s.defaultView?s.defaultView.HTMLElement:HTMLElement)},ur=e=>e.type==="select-multiple",Re=e=>e.type==="radio",Mr=e=>Re(e)||de(e),Ee=e=>ge(e)&&e.isConnected;function Nr(e,s){const r=s.slice(0,-1).length;let i=0;for(;i<r;)e=S(e)?i++:e[s[i++]];return e}function Pr(e){for(const s in e)if(e.hasOwnProperty(s)&&!S(e[s]))return!1;return!0}function k(e,s){const r=Array.isArray(s)?s:be(s)?[s]:Ce(s),i=r.length===1?e:Nr(e,r),u=r.length-1,a=r[u];return i&&delete i[a],u!==0&&(O(i)&&P(i)||Array.isArray(i)&&Pr(i))&&k(e,r.slice(0,-1)),e}var pr=e=>{for(const s in e)if(j(e[s]))return!0;return!1};function fr(e){return Array.isArray(e)||O(e)&&!pr(e)}function ke(e,s={}){for(const r in e)fr(e[r])?(s[r]=Array.isArray(e[r])?[]:{},ke(e[r],s[r])):M(e[r])||(s[r]=!0);return s}function ne(e,s,r){r||(r=ke(s));for(const i in e)fr(e[i])?S(s)||De(r[i])?r[i]=ke(e[i],Array.isArray(e[i])?[]:{}):ne(e[i],M(s)?{}:s[i],r[i]):r[i]=!ee(e[i],s[i]);return r}const Ke={value:!1,isValid:!1},Ze={value:!0,isValid:!0};var dr=e=>{if(Array.isArray(e)){if(e.length>1){const s=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:s,isValid:!!s.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!S(e[0].attributes.value)?S(e[0].value)||e[0].value===""?Ze:{value:e[0].value,isValid:!0}:Ze:Ke}return Ke},cr=(e,{valueAsNumber:s,valueAsDate:r,setValueAs:i})=>S(e)?e:s?e===""?NaN:e&&+e:r&&I(e)?new Date(e):i?i(e):e;const Ye={isValid:!1,value:null};var yr=e=>Array.isArray(e)?e.reduce((s,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:s,Ye):Ye;function Je(e){const s=e.ref;return Ue(s)?s.files:Re(s)?yr(e.refs).value:ur(s)?[...s.selectedOptions].map(({value:r})=>r):de(s)?dr(e.refs).value:cr(S(s.value)?e.ref.value:s.value,e)}var Ir=(e,s,r,i)=>{const u={};for(const a of e){const l=h(s,a);l&&A(u,a,l._f)}return{criteriaMode:r,names:[...e],fields:u,shouldUseNativeValidation:i}},ve=e=>e instanceof RegExp,le=e=>S(e)?e:ve(e)?e.source:O(e)?ve(e.value)?e.value.source:e.value:e,Qe=e=>({isOnSubmit:!e||e===W.onSubmit,isOnBlur:e===W.onBlur,isOnChange:e===W.onChange,isOnAll:e===W.all,isOnTouch:e===W.onTouched});const Xe="AsyncFunction";var Br=e=>!!e&&!!e.validate&&!!(j(e.validate)&&e.validate.constructor.name===Xe||O(e.validate)&&Object.values(e.validate).find(s=>s.constructor.name===Xe)),qr=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),Ge=(e,s,r)=>!r&&(s.watchAll||s.watch.has(e)||[...s.watch].some(i=>e.startsWith(i)&&/^\.\w+/.test(e.slice(i.length))));const fe=(e,s,r,i)=>{for(const u of r||Object.keys(e)){const a=h(e,u);if(a){const{_f:l,...c}=a;if(l){if(l.refs&&l.refs[0]&&s(l.refs[0],u)&&!i)return!0;if(l.ref&&s(l.ref,l.name)&&!i)return!0;if(fe(c,s))break}else if(O(c)&&fe(c,s))break}}};function er(e,s,r){const i=h(e,r);if(i||be(r))return{error:i,name:r};const u=r.split(".");for(;u.length;){const a=u.join("."),l=h(s,a),c=h(e,a);if(l&&!Array.isArray(l)&&r!==a)return{name:r};if(c&&c.type)return{name:a,error:c};if(c&&c.root&&c.root.type)return{name:`${a}.root`,error:c.root};u.pop()}return{name:r}}var Wr=(e,s,r,i)=>{r(e);const{name:u,...a}=e;return P(a)||Object.keys(a).length>=Object.keys(s).length||Object.keys(a).find(l=>s[l]===(!i||W.all))},jr=(e,s,r)=>!e||!s||e===s||ue(e).some(i=>i&&(r?i===s:i.startsWith(s)||s.startsWith(i))),Hr=(e,s,r,i,u)=>u.isOnAll?!1:!r&&u.isOnTouch?!(s||e):(r?i.isOnBlur:u.isOnBlur)?!e:(r?i.isOnChange:u.isOnChange)?e:!0,$r=(e,s)=>!Te(h(e,s)).length&&k(e,s),zr=(e,s,r)=>{const i=ue(h(e,r));return A(i,"root",s[r]),A(e,r,i),e};function rr(e,s,r="validate"){if(I(e)||Array.isArray(e)&&e.every(I)||K(e)&&!e)return{type:r,message:I(e)?e:"",ref:s}}var ie=e=>O(e)&&!ve(e)?e:{value:e,message:""},tr=async(e,s,r,i,u,a)=>{const{ref:l,refs:c,required:D,maxLength:U,minLength:m,min:x,max:v,pattern:ae,validate:J,name:T,valueAsNumber:Q,mount:_e}=e._f,_=h(r,T);if(!_e||s.has(T))return{};const Z=c?c[0]:l,H=b=>{u&&Z.reportValidity&&(Z.setCustomValidity(K(b)?"":b||""),Z.reportValidity())},C={},ce=Re(l),X=de(l),Ve=ce||X,q=(Q||Ue(l))&&S(l.value)&&S(_)||ge(l)&&l.value===""||_===""||Array.isArray(_)&&!_.length,re=Le.bind(null,T,i,C),$=(b,F,E,R=Y.maxLength,N=Y.minLength)=>{const z=b?F:E;C[T]={type:b?R:N,message:z,ref:l,...re(b?R:N,z)}};if(a?!Array.isArray(_)||!_.length:D&&(!Ve&&(q||M(_))||K(_)&&!_||X&&!dr(c).isValid||ce&&!yr(c).isValid)){const{value:b,message:F}=I(D)?{value:!!D,message:D}:ie(D);if(b&&(C[T]={type:Y.required,message:F,ref:Z,...re(Y.required,F)},!i))return H(F),C}if(!q&&(!M(x)||!M(v))){let b,F;const E=ie(v),R=ie(x);if(!M(_)&&!isNaN(_)){const N=l.valueAsNumber||_&&+_;M(E.value)||(b=N>E.value),M(R.value)||(F=N<R.value)}else{const N=l.valueAsDate||new Date(_),z=ye=>new Date(new Date().toDateString()+" "+ye),oe=l.type=="time",se=l.type=="week";I(E.value)&&_&&(b=oe?z(_)>z(E.value):se?_>E.value:N>new Date(E.value)),I(R.value)&&_&&(F=oe?z(_)<z(R.value):se?_<R.value:N<new Date(R.value))}if((b||F)&&($(!!b,E.message,R.message,Y.max,Y.min),!i))return H(C[T].message),C}if((U||m)&&!q&&(I(_)||a&&Array.isArray(_))){const b=ie(U),F=ie(m),E=!M(b.value)&&_.length>+b.value,R=!M(F.value)&&_.length<+F.value;if((E||R)&&($(E,b.message,F.message),!i))return H(C[T].message),C}if(ae&&!q&&I(_)){const{value:b,message:F}=ie(ae);if(ve(b)&&!_.match(b)&&(C[T]={type:Y.pattern,message:F,ref:l,...re(Y.pattern,F)},!i))return H(F),C}if(J){if(j(J)){const b=await J(_,r),F=rr(b,Z);if(F&&(C[T]={...F,...re(Y.validate,F.message)},!i))return H(F.message),C}else if(O(J)){let b={};for(const F in J){if(!P(b)&&!i)break;const E=rr(await J[F](_,r),Z,F);E&&(b={...E,...re(F,E.message)},H(E.message),i&&(C[T]=b))}if(!P(b)&&(C[T]={ref:Z,...b},!i))return C}}return H(!0),C};const Kr={mode:W.onSubmit,reValidateMode:W.onChange,shouldFocusError:!0};function Zr(e={}){let s={...Kr,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:j(s.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:s.errors||{},disabled:s.disabled||!1},i={},u=O(s.defaultValues)||O(s.values)?L(s.defaultValues||s.values)||{}:{},a=s.shouldUnregister?{}:L(u),l={action:!1,mount:!1,watch:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},D,U=0;const m={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let x={...m};const v={array:ze(),state:ze()},ae=s.criteriaMode===W.all,J=t=>n=>{clearTimeout(U),U=setTimeout(t,n)},T=async t=>{if(!s.disabled&&(m.isValid||x.isValid||t)){const n=s.resolver?P((await X()).errors):await q(i,!0);n!==r.isValid&&v.state.next({isValid:n})}},Q=(t,n)=>{!s.disabled&&(m.isValidating||m.validatingFields||x.isValidating||x.validatingFields)&&((t||Array.from(c.mount)).forEach(o=>{o&&(n?A(r.validatingFields,o,n):k(r.validatingFields,o))}),v.state.next({validatingFields:r.validatingFields,isValidating:!P(r.validatingFields)}))},_e=(t,n=[],o,y,d=!0,f=!0)=>{if(y&&o&&!s.disabled){if(l.action=!0,f&&Array.isArray(h(i,t))){const g=o(h(i,t),y.argA,y.argB);d&&A(i,t,g)}if(f&&Array.isArray(h(r.errors,t))){const g=o(h(r.errors,t),y.argA,y.argB);d&&A(r.errors,t,g),$r(r.errors,t)}if((m.touchedFields||x.touchedFields)&&f&&Array.isArray(h(r.touchedFields,t))){const g=o(h(r.touchedFields,t),y.argA,y.argB);d&&A(r.touchedFields,t,g)}(m.dirtyFields||x.dirtyFields)&&(r.dirtyFields=ne(u,a)),v.state.next({name:t,isDirty:$(t,n),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else A(a,t,n)},_=(t,n)=>{A(r.errors,t,n),v.state.next({errors:r.errors})},Z=t=>{r.errors=t,v.state.next({errors:r.errors,isValid:!1})},H=(t,n,o,y)=>{const d=h(i,t);if(d){const f=h(a,t,S(o)?h(u,t):o);S(f)||y&&y.defaultChecked||n?A(a,t,n?f:Je(d._f)):E(t,f),l.mount&&T()}},C=(t,n,o,y,d)=>{let f=!1,g=!1;const V={name:t};if(!s.disabled){if(!o||y){(m.isDirty||x.isDirty)&&(g=r.isDirty,r.isDirty=V.isDirty=$(),f=g!==V.isDirty);const w=ee(h(u,t),n);g=!!h(r.dirtyFields,t),w?k(r.dirtyFields,t):A(r.dirtyFields,t,!0),V.dirtyFields=r.dirtyFields,f=f||(m.dirtyFields||x.dirtyFields)&&g!==!w}if(o){const w=h(r.touchedFields,t);w||(A(r.touchedFields,t,o),V.touchedFields=r.touchedFields,f=f||(m.touchedFields||x.touchedFields)&&w!==o)}f&&d&&v.state.next(V)}return f?V:{}},ce=(t,n,o,y)=>{const d=h(r.errors,t),f=(m.isValid||x.isValid)&&K(n)&&r.isValid!==n;if(s.delayError&&o?(D=J(()=>_(t,o)),D(s.delayError)):(clearTimeout(U),D=null,o?A(r.errors,t,o):k(r.errors,t)),(o?!ee(d,o):d)||!P(y)||f){const g={...y,...f&&K(n)?{isValid:n}:{},errors:r.errors,name:t};r={...r,...g},v.state.next(g)}},X=async t=>{Q(t,!0);const n=await s.resolver(a,s.context,Ir(t||c.mount,i,s.criteriaMode,s.shouldUseNativeValidation));return Q(t),n},Ve=async t=>{const{errors:n}=await X(t);if(t)for(const o of t){const y=h(n,o);y?A(r.errors,o,y):k(r.errors,o)}else r.errors=n;return n},q=async(t,n,o={valid:!0})=>{for(const y in t){const d=t[y];if(d){const{_f:f,...g}=d;if(f){const V=c.array.has(f.name),w=d._f&&Br(d._f);w&&m.validatingFields&&Q([f.name],!0);const B=await tr(d,c.disabled,a,ae,s.shouldUseNativeValidation&&!n,V);if(w&&m.validatingFields&&Q([f.name]),B[f.name]&&(o.valid=!1,n))break;!n&&(h(B,f.name)?V?zr(r.errors,B,f.name):A(r.errors,f.name,B[f.name]):k(r.errors,f.name))}!P(g)&&await q(g,n,o)}}return o.valid},re=()=>{for(const t of c.unMount){const n=h(i,t);n&&(n._f.refs?n._f.refs.every(o=>!Ee(o)):!Ee(n._f.ref))&&me(t)}c.unMount=new Set},$=(t,n)=>!s.disabled&&(t&&n&&A(a,t,n),!ee(ye(),u)),b=(t,n,o)=>Rr(t,c,{...l.mount?a:S(n)?u:I(t)?{[t]:n}:n},o,n),F=t=>Te(h(l.mount?a:u,t,s.shouldUnregister?h(u,t,[]):[])),E=(t,n,o={})=>{const y=h(i,t);let d=n;if(y){const f=y._f;f&&(!f.disabled&&A(a,t,cr(n,f)),d=ge(f.ref)&&M(n)?"":n,ur(f.ref)?[...f.ref.options].forEach(g=>g.selected=d.includes(g.value)):f.refs?de(f.ref)?f.refs.forEach(g=>{(!g.defaultChecked||!g.disabled)&&(Array.isArray(d)?g.checked=!!d.find(V=>V===g.value):g.checked=d===g.value||!!d)}):f.refs.forEach(g=>g.checked=g.value===d):Ue(f.ref)?f.ref.value="":(f.ref.value=d,f.ref.type||v.state.next({name:t,values:L(a)})))}(o.shouldDirty||o.shouldTouch)&&C(t,d,o.shouldTouch,o.shouldDirty,!0),o.shouldValidate&&se(t)},R=(t,n,o)=>{for(const y in n){if(!n.hasOwnProperty(y))return;const d=n[y],f=t+"."+y,g=h(i,f);(c.array.has(t)||O(d)||g&&!g._f)&&!te(d)?R(f,d,o):E(f,d,o)}},N=(t,n,o={})=>{const y=h(i,t),d=c.array.has(t),f=L(n);A(a,t,f),d?(v.array.next({name:t,values:L(a)}),(m.isDirty||m.dirtyFields||x.isDirty||x.dirtyFields)&&o.shouldDirty&&v.state.next({name:t,dirtyFields:ne(u,a),isDirty:$(t,f)})):y&&!y._f&&!M(f)?R(t,f,o):E(t,f,o),Ge(t,c)&&v.state.next({...r,name:t}),v.state.next({name:l.mount?t:void 0,values:L(a)})},z=async t=>{l.mount=!0;const n=t.target;let o=n.name,y=!0;const d=h(i,o),f=w=>{y=Number.isNaN(w)||te(w)&&isNaN(w.getTime())||ee(w,h(a,o,w))},g=Qe(s.mode),V=Qe(s.reValidateMode);if(d){let w,B;const he=n.type?Je(d._f):kr(t),G=t.type===$e.BLUR||t.type===$e.FOCUS_OUT,Fr=!qr(d._f)&&!s.resolver&&!h(r.errors,o)&&!d._f.deps||Hr(G,h(r.touchedFields,o),r.isSubmitted,V,g),we=Ge(o,c,G);A(a,o,he),G?(!n||!n.readOnly)&&(d._f.onBlur&&d._f.onBlur(t),D&&D(0)):d._f.onChange&&d._f.onChange(t);const xe=C(o,he,G),Ar=!P(xe)||we;if(!G&&v.state.next({name:o,type:t.type,values:L(a)}),Fr)return(m.isValid||x.isValid)&&(s.mode==="onBlur"?G&&T():G||T()),Ar&&v.state.next({name:o,...we?{}:xe});if(!G&&we&&v.state.next({...r}),s.resolver){const{errors:je}=await X([o]);if(f(he),y){const wr=er(r.errors,i,o),He=er(je,i,wr.name||o);w=He.error,o=He.name,B=P(je)}}else Q([o],!0),w=(await tr(d,c.disabled,a,ae,s.shouldUseNativeValidation))[o],Q([o]),f(he),y&&(w?B=!1:(m.isValid||x.isValid)&&(B=await q(i,!0)));y&&(d._f.deps&&(!Array.isArray(d._f.deps)||d._f.deps.length>0)&&se(d._f.deps),ce(o,B,w,xe))}},oe=(t,n)=>{if(h(r.errors,n)&&t.focus)return t.focus(),1},se=async(t,n={})=>{let o,y;const d=ue(t);if(s.resolver){const f=await Ve(S(t)?t:d);o=P(f),y=t?!d.some(g=>h(f,g)):o}else t?(y=(await Promise.all(d.map(async f=>{const g=h(i,f);return await q(g&&g._f?{[f]:g}:g)}))).every(Boolean),!(!y&&!r.isValid)&&T()):y=o=await q(i);return v.state.next({...!I(t)||(m.isValid||x.isValid)&&o!==r.isValid?{}:{name:t},...s.resolver||!t?{isValid:o}:{},errors:r.errors}),n.shouldFocus&&!y&&fe(i,oe,t?d:c.mount),y},ye=(t,n)=>{let o={...l.mount?a:u};return n&&(o=lr(n.dirtyFields?r.dirtyFields:r.touchedFields,o)),S(t)?o:I(t)?h(o,t):t.map(y=>h(o,y))},Me=(t,n)=>({invalid:!!h((n||r).errors,t),isDirty:!!h((n||r).dirtyFields,t),error:h((n||r).errors,t),isValidating:!!h(r.validatingFields,t),isTouched:!!h((n||r).touchedFields,t)}),hr=t=>{t&&ue(t).forEach(n=>k(r.errors,n)),v.state.next({errors:t?r.errors:{}})},Ne=(t,n,o)=>{const y=(h(i,t,{_f:{}})._f||{}).ref,d=h(r.errors,t)||{},{ref:f,message:g,type:V,...w}=d;A(r.errors,t,{...w,...n,ref:y}),v.state.next({name:t,errors:r.errors,isValid:!1}),o&&o.shouldFocus&&y&&y.focus&&y.focus()},gr=(t,n)=>j(t)?v.state.subscribe({next:o=>"values"in o&&t(b(void 0,n),o)}):b(t,n,!0),Pe=t=>v.state.subscribe({next:n=>{jr(t.name,n.name,t.exact)&&Wr(n,t.formState||m,mr,t.reRenderRoot)&&t.callback({values:{...a},...r,...n,defaultValues:u})}}).unsubscribe,vr=t=>(l.mount=!0,x={...x,...t.formState},Pe({...t,formState:x})),me=(t,n={})=>{for(const o of t?ue(t):c.mount)c.mount.delete(o),c.array.delete(o),n.keepValue||(k(i,o),k(a,o)),!n.keepError&&k(r.errors,o),!n.keepDirty&&k(r.dirtyFields,o),!n.keepTouched&&k(r.touchedFields,o),!n.keepIsValidating&&k(r.validatingFields,o),!s.shouldUnregister&&!n.keepDefaultValue&&k(u,o);v.state.next({values:L(a)}),v.state.next({...r,...n.keepDirty?{isDirty:$()}:{}}),!n.keepIsValid&&T()},pe=({disabled:t,name:n})=>{(K(t)&&l.mount||t||c.disabled.has(n))&&(t?c.disabled.add(n):c.disabled.delete(n))},Fe=(t,n={})=>{let o=h(i,t);const y=K(n.disabled)||K(s.disabled);return A(i,t,{...o||{},_f:{...o&&o._f?o._f:{ref:{name:t}},name:t,mount:!0,...n}}),c.mount.add(t),o?pe({disabled:K(n.disabled)?n.disabled:s.disabled,name:t}):H(t,!0,n.value),{...y?{disabled:n.disabled||s.disabled}:{},...s.progressive?{required:!!n.required,min:le(n.min),max:le(n.max),minLength:le(n.minLength),maxLength:le(n.maxLength),pattern:le(n.pattern)}:{},name:t,onChange:z,onBlur:z,ref:d=>{if(d){Fe(t,n),o=h(i,t);const f=S(d.value)&&d.querySelectorAll&&d.querySelectorAll("input,select,textarea")[0]||d,g=Mr(f),V=o._f.refs||[];if(g?V.find(w=>w===f):f===o._f.ref)return;A(i,t,{_f:{...o._f,...g?{refs:[...V.filter(Ee),f,...Array.isArray(h(u,t))?[{}]:[]],ref:{type:f.type,name:t}}:{ref:f}}}),H(t,!1,void 0,f)}else o=h(i,t,{}),o._f&&(o._f.mount=!1),(s.shouldUnregister||n.shouldUnregister)&&!(Or(c.array,t)&&l.action)&&c.unMount.add(t)}}},Ae=()=>s.shouldFocusError&&fe(i,oe,c.mount),br=t=>{K(t)&&(v.state.next({disabled:t}),fe(i,(n,o)=>{const y=h(i,o);y&&(n.disabled=y._f.disabled||t,Array.isArray(y._f.refs)&&y._f.refs.forEach(d=>{d.disabled=y._f.disabled||t}))},0,!1))},Ie=(t,n)=>async o=>{let y;o&&(o.preventDefault&&o.preventDefault(),o.persist&&o.persist());let d=L(a);if(v.state.next({isSubmitting:!0}),s.resolver){const{errors:f,values:g}=await X();r.errors=f,d=L(g)}else await q(i);if(c.disabled.size)for(const f of c.disabled)k(d,f);if(k(r.errors,"root"),P(r.errors)){v.state.next({errors:{}});try{await t(d,o)}catch(f){y=f}}else n&&await n({...r.errors},o),Ae(),setTimeout(Ae);if(v.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:P(r.errors)&&!y,submitCount:r.submitCount+1,errors:r.errors}),y)throw y},_r=(t,n={})=>{h(i,t)&&(S(n.defaultValue)?N(t,L(h(u,t))):(N(t,n.defaultValue),A(u,t,L(n.defaultValue))),n.keepTouched||k(r.touchedFields,t),n.keepDirty||(k(r.dirtyFields,t),r.isDirty=n.defaultValue?$(t,L(h(u,t))):$()),n.keepError||(k(r.errors,t),m.isValid&&T()),v.state.next({...r}))},Be=(t,n={})=>{const o=t?L(t):u,y=L(o),d=P(t),f=d?u:y;if(n.keepDefaultValues||(u=o),!n.keepValues){if(n.keepDirtyValues){const g=new Set([...c.mount,...Object.keys(ne(u,a))]);for(const V of Array.from(g))h(r.dirtyFields,V)?A(f,V,h(a,V)):N(V,h(f,V))}else{if(Oe&&S(t))for(const g of c.mount){const V=h(i,g);if(V&&V._f){const w=Array.isArray(V._f.refs)?V._f.refs[0]:V._f.ref;if(ge(w)){const B=w.closest("form");if(B){B.reset();break}}}}if(n.keepFieldsRef)for(const g of c.mount)N(g,h(f,g));else i={}}a=s.shouldUnregister?n.keepDefaultValues?L(u):{}:L(f),v.array.next({values:{...f}}),v.state.next({values:{...f}})}c={mount:n.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!m.isValid||!!n.keepIsValid||!!n.keepDirtyValues,l.watch=!!s.shouldUnregister,v.state.next({submitCount:n.keepSubmitCount?r.submitCount:0,isDirty:d?!1:n.keepDirty?r.isDirty:!!(n.keepDefaultValues&&!ee(t,u)),isSubmitted:n.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:d?{}:n.keepDirtyValues?n.keepDefaultValues&&a?ne(u,a):r.dirtyFields:n.keepDefaultValues&&t?ne(u,t):n.keepDirty?r.dirtyFields:{},touchedFields:n.keepTouched?r.touchedFields:{},errors:n.keepErrors?r.errors:{},isSubmitSuccessful:n.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:u})},qe=(t,n)=>Be(j(t)?t(a):t,n),Vr=(t,n={})=>{const o=h(i,t),y=o&&o._f;if(y){const d=y.refs?y.refs[0]:y.ref;d.focus&&(d.focus(),n.shouldSelect&&j(d.select)&&d.select())}},mr=t=>{r={...r,...t}},We={control:{register:Fe,unregister:me,getFieldState:Me,handleSubmit:Ie,setError:Ne,_subscribe:Pe,_runSchema:X,_focusError:Ae,_getWatch:b,_getDirty:$,_setValid:T,_setFieldArray:_e,_setDisabledField:pe,_setErrors:Z,_getFieldArray:F,_reset:Be,_resetDefaultValues:()=>j(s.defaultValues)&&s.defaultValues().then(t=>{qe(t,s.resetOptions),v.state.next({isLoading:!1})}),_removeUnmounted:re,_disableForm:br,_subjects:v,_proxyFormState:m,get _fields(){return i},get _formValues(){return a},get _state(){return l},set _state(t){l=t},get _defaultValues(){return u},get _names(){return c},set _names(t){c=t},get _formState(){return r},get _options(){return s},set _options(t){s={...s,...t}}},subscribe:vr,trigger:se,register:Fe,handleSubmit:Ie,watch:gr,setValue:N,getValues:ye,reset:qe,resetField:_r,clearErrors:hr,unregister:me,setError:Ne,setFocus:Vr,getFieldState:Me};return{...We,formControl:We}}function et(e={}){const s=p.useRef(void 0),r=p.useRef(void 0),[i,u]=p.useState({isDirty:!1,isValidating:!1,isLoading:j(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:j(e.defaultValues)?void 0:e.defaultValues});if(!s.current)if(e.formControl)s.current={...e.formControl,formState:i},e.defaultValues&&!j(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:l,...c}=Zr(e);s.current={...c,formState:i}}const a=s.current.control;return a._options=e,Ur(()=>{const l=a._subscribe({formState:a._proxyFormState,callback:()=>u({...a._formState}),reRenderRoot:!0});return u(c=>({...c,isReady:!0})),a._formState.isReady=!0,l},[a]),p.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),p.useEffect(()=>{e.mode&&(a._options.mode=e.mode),e.reValidateMode&&(a._options.reValidateMode=e.reValidateMode)},[a,e.mode,e.reValidateMode]),p.useEffect(()=>{e.errors&&(a._setErrors(e.errors),a._focusError())},[a,e.errors]),p.useEffect(()=>{e.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,e.shouldUnregister]),p.useEffect(()=>{if(a._proxyFormState.isDirty){const l=a._getDirty();l!==i.isDirty&&a._subjects.state.next({isDirty:l})}},[a,i.isDirty]),p.useEffect(()=>{e.values&&!ee(e.values,r.current)?(a._reset(e.values,{keepFieldsRef:!0,...a._options.resetOptions}),r.current=e.values,u(l=>({...l}))):a._resetDefaultValues()},[a,e.values]),p.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),s.current.formState=Lr(i,a),s.current}const sr=(e,s,r)=>{if(e&&"reportValidity"in e){const i=h(r,s);e.setCustomValidity(i&&i.message||""),e.reportValidity()}},Se=(e,s)=>{for(const r in s.fields){const i=s.fields[r];i&&i.ref&&"reportValidity"in i.ref?sr(i.ref,r,e):i&&i.refs&&i.refs.forEach(u=>sr(u,r,e))}},ir=(e,s)=>{s.shouldUseNativeValidation&&Se(e,s);const r={};for(const i in e){const u=h(s.fields,i),a=Object.assign(e[i]||{},{ref:u&&u.ref});if(Yr(s.names||Object.keys(e),i)){const l=Object.assign({},h(r,i));A(l,"root",a),A(r,i,l)}else A(r,i,a)}return r},Yr=(e,s)=>{const r=nr(s);return e.some(i=>nr(i).match(`^${r}\\.\\d+`))};function nr(e){return e.replace(/\]|\[/g,"")}function ar(e,s){try{var r=e()}catch(i){return s(i)}return r&&r.then?r.then(void 0,s):r}function Jr(e,s){for(var r={};e.length;){var i=e[0],u=i.code,a=i.message,l=i.path.join(".");if(!r[l])if("unionErrors"in i){var c=i.unionErrors[0].errors[0];r[l]={message:c.message,type:c.code}}else r[l]={message:a,type:u};if("unionErrors"in i&&i.unionErrors.forEach(function(m){return m.errors.forEach(function(x){return e.push(x)})}),s){var D=r[l].types,U=D&&D[i.code];r[l]=Le(l,s,r,u,U?[].concat(U,i.message):i.message)}e.shift()}return r}function Qr(e,s){for(var r={};e.length;){var i=e[0],u=i.code,a=i.message,l=i.path.join(".");if(!r[l])if(i.code==="invalid_union"&&i.errors.length>0){var c=i.errors[0][0];r[l]={message:c.message,type:c.code}}else r[l]={message:a,type:u};if(i.code==="invalid_union"&&i.errors.forEach(function(m){return m.forEach(function(x){return e.push(x)})}),s){var D=r[l].types,U=D&&D[i.code];r[l]=Le(l,s,r,u,U?[].concat(U,i.message):i.message)}e.shift()}return r}function rt(e,s,r){if(r===void 0&&(r={}),(function(i){return"_def"in i&&typeof i._def=="object"&&"typeName"in i._def})(e))return function(i,u,a){try{return Promise.resolve(ar(function(){return Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](i,s)).then(function(l){return a.shouldUseNativeValidation&&Se({},a),{errors:{},values:r.raw?Object.assign({},i):l}})},function(l){if((function(c){return Array.isArray(c?.issues)})(l))return{values:{},errors:ir(Jr(l.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw l}))}catch(l){return Promise.reject(l)}};if((function(i){return"_zod"in i&&typeof i._zod=="object"})(e))return function(i,u,a){try{return Promise.resolve(ar(function(){return Promise.resolve((r.mode==="sync"?xr:Er)(e,i,s)).then(function(l){return a.shouldUseNativeValidation&&Se({},a),{errors:{},values:r.raw?Object.assign({},i):l}})},function(l){if((function(c){return c instanceof Dr})(l))return{values:{},errors:ir(Qr(l.issues,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw l}))}catch(l){return Promise.reject(l)}};throw new Error("Invalid input: not a Zod schema")}export{rt as a,et as u};
